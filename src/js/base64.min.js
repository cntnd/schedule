module.exports=function(r){var e=function(r){return encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,function(r,e){return String.fromCharCode("0x"+e)})};if("undefined"==typeof window)return new Buffer(r).toString("base64");if(void 0!==window.btoa)return window.btoa(e(r));var n,t,o,i,a,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,u=0,f="",h=[];if(!r)return r;r=e(r);do{n=(a=r.charCodeAt(d++)<<16|r.charCodeAt(d++)<<8|r.charCodeAt(d++))>>18&63,t=a>>12&63,o=a>>6&63,i=63&a,h[u++]=c.charAt(n)+c.charAt(t)+c.charAt(o)+c.charAt(i)}while(d<r.length);f=h.join("");var w=r.length%3;return(w?f.slice(0,w-3):f)+"===".slice(w||3)};